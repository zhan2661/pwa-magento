<html>

<head>
  <title>{{ exception.constructor.name }} - Exception Page</title>
  <style>
    {{{ prismStyles }}}
  </style>
  <style>
    /*! minireset.css v0.0.3 | MIT License | github.com/jgthms/minireset.css */

    html,
    body,
    p,
    ol,
    ul,
    li,
    dl,
    dt,
    dd,
    blockquote,
    figure,
    fieldset,
    legend,
    textarea,
    pre,
    iframe,
    hr,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin: 0;
      padding: 0
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-size: 100%;
      font-weight: normal
    }

    ul {
      list-style: none
    }

    button,
    input,
    select,
    textarea {
      margin: 0
    }

    html {
      box-sizing: border-box
    }

    *,
    *:before,
    *:after {
      box-sizing: inherit
    }

    img,
    embed,
    iframe,
    object,
    audio,
    video {
      height: auto;
      max-width: 100%
    }

    iframe {
      border: 0
    }

    table {
      border-collapse: collapse;
      border-spacing: 0
    }

    td,
    th {
      padding: 0;
      text-align: left
    }

    html {
      font-family: 'Lato', 'Open Sans', sans-serif;
      font-size: 16px;
    }

    /**
    TABLE STYLING
    **/
    .table {
      display: flex;
      flex-wrap: wrap;
      margin: 0 0 3em 0;
      padding: 0;
    }
    .table-cell {
      box-sizing: border-box;
      flex-grow: 1;
      width: 100%; 
      padding: 0.8em 1.2em;
      overflow: hidden;
      list-style: none;
      border: solid 1px white;
      background: rgba(112, 128, 144, 0.15);
      word-wrap: break-word;
      margin: -1px 0 0 -1px;
      /* > h1, > h2, > h3, > h4, > h5, > h6 { margin: 0; } */ 
    }

    /* Table column sizing
    ================================== */
    .table--2cols > .table-cell  { width: 50%; }  
    .table--3cols > .table-cell  { width: 33.33%; }
    .table--4cols > .table-cell  { width: 25%; }
    .table--5cols > .table-cell  { width: 20%; }
    .table--6cols > .table-cell  { width: 16.6%; }

    /* Table  col span
    ================================== */
    .table-cell.table-cell--1of1  { width: 100%; }
    .table-cell.table-cell--5of6  { width: 83.33; }
    .table-cell.table-cell--4of5  { width: 80%; }
    .table-cell.table-cell--3of4  { width: 75%; }
    .table-cell.table-cell--2of3  { width: 66.66%; }
    .table-cell.table-cell--3of5  { width: 60%; }
    .table-cell.table-cell--1of2  { width: 50%; }
    .table-cell.table-cell--2of4  { width: 40%; }
    .table-cell.table-cell--1of3  { width: 33.33%; }
    .table-cell.table-cell--1of4  { width: 25%; }
    .table-cell.table-cell--1of5  { width: 20%; }
    .table-cell.table-cell--1of6  { width: 16.66%; }


    /* Responsive
    ==================================== */
     @media all and (max-width: 1024px) {
      /* .table--collapse  {
        display: block;
      } */
      .table--collapse > .table-cell { width: 100% !important; }
      .table--collapse > .table-cell--foot { margin-bottom: 1em; }
    } 

    /**
    START CUSTOM STYLING
    **/
    body {
      border: 5px solid #dd2121;
      background: white;
    }

    div {
      box-sizing: border-box;
    }

    main {
      display: flex;
      flex-direction: column;
      overflow: hidden;
      padding: 5px;
    }

    article {
      flex: 3 1 0;
      margin: 10px;
    }

    aside {
      flex: 1 1 0;
      margin: 10px;
    }

    .exception-constructor {
      margin-bottom: 5px;
      color: #dd2121;
    }

    .exception-message {
      margin-bottom: 25px;
      font-size: 0.9rem;
    }

    main h3 {
      font-weight: 700;
      font-size: 1.5rem;
    }

    .stack-trace {
      font-size: 0.85em;
      border: 1px solid rgb(216, 210, 222);
      border-radius: 3px;
      width: 100%;
    }

    .stack-trace-line {
      padding: 8px 10px;
      background: rgb(248, 250, 253);
      border-bottom: 1px solid rgb(226, 222, 230);
      cursor: pointer;
    }

    .stack-trace-line:hover {
      background: #fcfdfe;
    }

    .stack-trace-line:nth-child(even) {
      background: #f8fafd;
    }

    .stack-trace-line:last-child {
      border-bottom: none;
    }

    .stack-trace-editor {
      height: 0px;
      padding: 0;
      overflow-x: hidden;
      overflow-y: scroll;
    }

    .stack-trace-editor pre {
      margin-top: 0;
      margin-bottom: 0;
    }

    .stack-trace-editor-open {
      height: auto;
      max-height: 400px;
    }

    .CodeMirror {
      height: auto;
      width: 100%;
      line-height: 1.5rem;
    }

    .stack-trace-code {
      font-family: monospace;
      padding: 6px 15px;
      color: #222;
    }

    .stack-trace-code pre span {
      font-size: 0.8rem;
      margin-right: 1rem;
    }

    .stack-trace-code-active {
      background-color: rgba(108, 95, 199, 0.5);
    }

    .light {
      font-weight: 300;
    }

    .bold {
      font-weight: 700;
      color: #2f2936;
    }

    .variables {
      margin: 2rem 0;
    }

    .variables h3 {
      font-size: 1.3rem;
      color: black;
      /* color: #434d57; */
       /* color: #968ba0;  */
      text-transform: uppercase;
      margin-bottom: 1rem;
    }

    .variables .table {
      font-size: 0.85rem;
    }

    .variables .table .table-cell {
      padding-top: 8px;
      padding-bottom: 8px;
    }

    .variables .table .table-cell:nth-child(odd) {
      font-weight: 700;
      word-wrap: break-word;
      border-color: #5a6673;
      background-color: slategray;
      color: white;
    }

    .variables .table .table-cell:nth-child(even) {
      background-color: rgb(248, 250, 253);
      border-color: rgb(216, 210, 222);
      /* background-color: #f7f8f9; */
      /* border-color: #e2e6e9; */
      font-weight: 300;
    }

    .variables .table .table-cell:first-child {
      border-top-left-radius: 2px;
    }
    .variables .table .table-cell:nth-child(2) {
      border-top-right-radius: 2px;
    }
    .variables .table .table-cell:last-child {
      border-bottom-right-radius: 2px;
    }
    .variables .table .table-cell:nth-last-child(2) {
      border-bottom-left-radius:  2px;
    }

    .context h3 {
      font-size: 1.5rem;
      margin-bottom: 2rem;
      font-weight: 700;
      margin-bottom: 2rem;
    }

    dl {
      margin: 15px 0;
    }

    dl>dt {
      font-size: 1rem;
      font-weight: 700;
      border-bottom: 5px solid rgba(0, 0, 0, 0.15);
    }

    dl>dd {
      font-size: 0.8rem;
      text-align: right;
      margin-top: 0.1rem;
      margin-bottom: 1rem;
    }

    

    @media screen and (min-device-width: 1024px) {
      main {
        flex-direction: row;
      }

      article {
        overflow: hidden;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">

</head>

<body>
  <main>
    <article>

      <h3 class="exception-constructor">{{ exception.constructor.name }}</h3>
      <p class="exception-message">{{ exception.message }}</p>

      <div class="stack-trace">
        {{#each stack}}
        <div class="stack-trace-line">
          <span class="bold">{{ path }}</span><span class="light"> at </span><span class="bold"> {{ at }} </span><span class="light"> at line </span><span class="bold">{{ line }}:{{ column }}</span>
        </div>
        
        {{#if trimmed}}
        <div class="stack-trace-editor">
          <pre class="line-numbers language-javascript" data-line="{{trimmed.line}}" data-start="{{trimmed.start}}"><code>{{code}}</code></pre>
        </div>
        {{else}}
        <div class="stack-trace-editor">
          <pre class="line-numbers language-javascript" data-line="{{line}}"><code>{{code}}</code></pre>
        </div>
        {{/if}}

        <!-- {{#if context.lineNumber}}
        {{/if}} -->
        {{/each}}
      </div>

      <div class="request variables">
        <h3>Request</h3>
        <div class="table table--4cols table--collapse">
            {{#each request}}
            <div class="table-cell table-cell--1of4 table-cell--head">{{ key }}</div>
            <div class="table-cell table-cell--3of4 table-cell--foot">{{ value }}</div>
            {{/each}}
        </div>
      </div>

      <div class="headers variables">
        <h3>Headers</h3>
        <div class="table table--4cols table--collapse">
            {{#each headers}}
            <div class="table-cell table-cell--1of4">{{ key }}</div>
            <div class="table-cell table-cell--3of4 table-cell--foot">{{ value }}</div>
            {{/each}}
        </div>
      </div>

      <div class="environment variables">
        <h3>Environment</h3>
        <div class="table table--4cols table--collapse">
            {{#each environment}}
            <div class="table-cell table-cell--1of4">{{ key }}</div>
            <div class="table-cell table-cell--3of4 table-cell--foot">{{ value }}</div>
            {{/each}}
        </div>
      </div>

      <div class="globals variables">
        <h3>Globals</h3>
        <div class="table table--4cols table--collapse">
            {{#each globals}}
            <div class="table-cell table-cell--1of4">{{ key }}</div>
            <div class="table-cell table-cell--3of4 table-cell--foot">{{ value }}</div>
            {{/each}}
        </div>
      </div>
    </article>

    <aside>
      <h3>System</h3>
      <dl>
        {{#each process}}
        <dt>{{ key }}</dt>
        <dd>{{ value }}</dd>
        {{/each}}
    </aside>
  </main>

  <script>
    {{{ prismSRC }}}
  </script>
  <script>
    (function () {
      document.querySelectorAll('.stack-trace-line')
        .forEach(el => {
          el.addEventListener('click', (event) => {
            var sibling = el.nextElementSibling;

            if (!sibling.classList.contains('stack-trace-editor')) return;

            sibling.classList.toggle('stack-trace-editor-open');
          });
        });
    })();
  </script>
</body>

</html>