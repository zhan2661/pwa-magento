{"version":3,"sources":["../../../src/components/Header/cartTrigger.js"],"names":["React","Component","connect","compose","PropTypes","toggleCart","CartCounter","Icon","ShoppingCartIcon","classify","defaultClasses","Trigger","cartIcon","cart","details","props","itemsQty","items_qty","iconColor","svgAttributes","stroke","fill","render","classes","root","children","node","shape","string","func","isRequired","number","mapStateToProps","mapDispatchToProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,UAAT;AACA,OAAOC,WAAP;AAEA,OAAOC,IAAP;AACA,OAAOC,gBAAP,MAA6B,wCAA7B;AACA,OAAOC,QAAP;AACA,OAAOC,cAAP;AAEA,OAAO,MAAMC,OAAN,SAAsBV,SAAtB,CAAgC;AAUnC,MAAIW,QAAJ,GAAe;AACX,UAAM;AACFC,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AADJ,QAEF,KAAKC,KAFT;AAGA,UAAMC,QAAQ,GAAGF,OAAO,CAACG,SAAzB;AACA,UAAMC,SAAS,GAAG,wBAAlB;AACA,UAAMC,aAAa,GAAG;AAClBC,MAAAA,MAAM,EAAEF;AADU,KAAtB;;AAIA,QAAIF,QAAQ,GAAG,CAAf,EAAkB;AACdG,MAAAA,aAAa,CAACE,IAAd,GAAqBH,SAArB;AACH;;AAED,WAAO,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEV,gBAAX;AAA6B,MAAA,KAAK,EAAEW;AAApC,MAAP;AACH;;AAEDG,EAAAA,MAAM,GAAG;AACL,UAAM;AACFC,MAAAA,OADE;AAEFlB,MAAAA,UAFE;AAGFQ,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AAHJ,QAIF,KAAKC,KAJT;AAKA,UAAM;AAAEH,MAAAA;AAAF,QAAe,IAArB;AACA,UAAMI,QAAQ,GAAGF,OAAO,CAACG,SAAzB;AAEA,WACI;AACI,MAAA,SAAS,EAAEM,OAAO,CAACC,IADvB;AAEI,oBAAW,kBAFf;AAGI,MAAA,OAAO,EAAEnB;AAHb,OAKKO,QALL,EAMI,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAEI,QAAQ,GAAGA,QAAH,GAAc;AAA5C,MANJ,CADJ;AAUH;;AA9CkC;;gBAA1BL,O,eACU;AACfc,EAAAA,QAAQ,EAAErB,SAAS,CAACsB,IADL;AAEfH,EAAAA,OAAO,EAAEnB,SAAS,CAACuB,KAAV,CAAgB;AACrBH,IAAAA,IAAI,EAAEpB,SAAS,CAACwB;AADK,GAAhB,CAFM;AAKfvB,EAAAA,UAAU,EAAED,SAAS,CAACyB,IAAV,CAAeC,UALZ;AAMfd,EAAAA,QAAQ,EAAEZ,SAAS,CAAC2B;AANL,C;;AAgDvB,MAAMC,eAAe,GAAG,CAAC;AAAEnB,EAAAA;AAAF,CAAD,MAAe;AAAEA,EAAAA;AAAF,CAAf,CAAxB;;AAEA,MAAMoB,kBAAkB,GAAG;AACvB5B,EAAAA;AADuB,CAA3B;AAIA,eAAeF,OAAO,CAClBM,QAAQ,CAACC,cAAD,CADU,EAElBR,OAAO,CACH8B,eADG,EAEHC,kBAFG,CAFW,CAAP,CAMbtB,OANa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'src/drivers';\nimport { compose } from 'redux';\nimport PropTypes from 'prop-types';\n\nimport { toggleCart } from 'src/actions/cart';\nimport CartCounter from './cartCounter';\n\nimport Icon from 'src/components/Icon';\nimport ShoppingCartIcon from 'react-feather/dist/icons/shopping-cart';\nimport classify from 'src/classify';\nimport defaultClasses from './cartTrigger.css';\n\nexport class Trigger extends Component {\n    static propTypes = {\n        children: PropTypes.node,\n        classes: PropTypes.shape({\n            root: PropTypes.string\n        }),\n        toggleCart: PropTypes.func.isRequired,\n        itemsQty: PropTypes.number\n    };\n\n    get cartIcon() {\n        const {\n            cart: { details }\n        } = this.props;\n        const itemsQty = details.items_qty;\n        const iconColor = 'rgb(var(--venia-text))';\n        const svgAttributes = {\n            stroke: iconColor\n        };\n\n        if (itemsQty > 0) {\n            svgAttributes.fill = iconColor;\n        }\n\n        return <Icon src={ShoppingCartIcon} attrs={svgAttributes} />;\n    }\n\n    render() {\n        const {\n            classes,\n            toggleCart,\n            cart: { details }\n        } = this.props;\n        const { cartIcon } = this;\n        const itemsQty = details.items_qty;\n\n        return (\n            <button\n                className={classes.root}\n                aria-label=\"Toggle mini cart\"\n                onClick={toggleCart}\n            >\n                {cartIcon}\n                <CartCounter counter={itemsQty ? itemsQty : 0} />\n            </button>\n        );\n    }\n}\n\nconst mapStateToProps = ({ cart }) => ({ cart });\n\nconst mapDispatchToProps = {\n    toggleCart\n};\n\nexport default compose(\n    classify(defaultClasses),\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )\n)(Trigger);\n"],"file":"cartTrigger.js"}