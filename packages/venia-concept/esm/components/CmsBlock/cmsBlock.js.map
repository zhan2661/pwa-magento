{"version":3,"sources":["../../../src/components/CmsBlock/cmsBlock.js"],"names":["React","Component","array","func","oneOfType","shape","string","Query","classify","Block","defaultClasses","getCmsBlocks","CmsBlockGroup","data","error","loading","children","classes","props","items","cmsBlocks","Array","isArray","length","BlockChild","blocks","map","item","index","identifier","block","content","render","renderBlocks","identifiers","root"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,SAAtB,EAAiCC,KAAjC,EAAwCC,MAAxC,QAAsD,YAAtD;AAEA,SAASC,KAAT;AACA,OAAOC,QAAP;AACA,OAAOC,KAAP;AACA,OAAOC,cAAP;AACA,OAAOC,YAAP;;AAEA,MAAMC,aAAN,SAA4BX,SAA5B,CAAsC;AAAA;AAAA;;AAAA,0CAWnB,CAAC;AAAEY,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA;AAAf,KAAD,KAA8B;AACzC,YAAM;AAAEC,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAwB,KAAKC,KAAnC;;AAEA,UAAIJ,KAAJ,EAAW;AACP,eAAO,oDAAP;AACH;;AAED,UAAIC,OAAJ,EAAa;AACT,eAAO,iDAAP;AACH;;AAED,YAAM;AAAEI,QAAAA;AAAF,UAAYN,IAAI,CAACO,SAAvB;;AAEA,UAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,KAAd,CAAD,IAAyB,CAACA,KAAK,CAACI,MAApC,EAA4C;AACxC,eAAO,kEAAP;AACH;;AAED,YAAMC,UAAU,GAAG,OAAOR,QAAP,KAAoB,UAApB,GAAiCA,QAAjC,GAA4CP,KAA/D;AACA,YAAMgB,MAAM,GAAGN,KAAK,CAACO,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,KACrB,oBAAC,UAAD;AACI,QAAA,GAAG,EAAED,IAAI,CAACE,UADd;AAEI,QAAA,SAAS,EAAEZ,OAAO,CAACa,KAFvB;AAGI,QAAA,KAAK,EAAEF;AAHX,SAIQD,IAJR,EADW,CAAf;AASA,aAAO;AAAK,QAAA,SAAS,EAAEV,OAAO,CAACc;AAAxB,SAAkCN,MAAlC,CAAP;AACH,KAvCiC;AAAA;;AAyClCO,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEd,MAAAA,KAAF;AAASe,MAAAA;AAAT,QAA0B,IAAhC;AACA,UAAM;AAAEhB,MAAAA,OAAF;AAAWiB,MAAAA;AAAX,QAA2BhB,KAAjC;AAEA,WACI;AAAK,MAAA,SAAS,EAAED,OAAO,CAACkB;AAAxB,OACI,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAExB,YAAd;AAA4B,MAAA,SAAS,EAAE;AAAEuB,QAAAA;AAAF;AAAvC,OACKD,YADL,CADJ,CADJ;AAOH;;AApDiC;;gBAAhCrB,a,eACiB;AACfI,EAAAA,QAAQ,EAAEb,IADK;AAEfc,EAAAA,OAAO,EAAEZ,KAAK,CAAC;AACXyB,IAAAA,KAAK,EAAExB,MADI;AAEXyB,IAAAA,OAAO,EAAEzB,MAFE;AAGX6B,IAAAA,IAAI,EAAE7B;AAHK,GAAD,CAFC;AAOf4B,EAAAA,WAAW,EAAE9B,SAAS,CAAC,CAACE,MAAD,EAASJ,KAAT,CAAD;AAPP,C;;AAsDvB,eAAeM,QAAQ,CAACE,cAAD,CAAR,CAAyBE,aAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { array, func, oneOfType, shape, string } from 'prop-types';\n\nimport { Query } from 'src/drivers';\nimport classify from 'src/classify';\nimport Block from './block';\nimport defaultClasses from './cmsBlock.css';\nimport getCmsBlocks from '../../queries/getCmsBlocks.graphql';\n\nclass CmsBlockGroup extends Component {\n    static propTypes = {\n        children: func,\n        classes: shape({\n            block: string,\n            content: string,\n            root: string\n        }),\n        identifiers: oneOfType([string, array])\n    };\n\n    renderBlocks = ({ data, error, loading }) => {\n        const { children, classes } = this.props;\n\n        if (error) {\n            return <div>Data Fetch Error</div>;\n        }\n\n        if (loading) {\n            return <div>Fetching Data</div>;\n        }\n\n        const { items } = data.cmsBlocks;\n\n        if (!Array.isArray(items) || !items.length) {\n            return <div>There are no blocks to display</div>;\n        }\n\n        const BlockChild = typeof children === 'function' ? children : Block;\n        const blocks = items.map((item, index) => (\n            <BlockChild\n                key={item.identifier}\n                className={classes.block}\n                index={index}\n                {...item}\n            />\n        ));\n\n        return <div className={classes.content}>{blocks}</div>;\n    };\n\n    render() {\n        const { props, renderBlocks } = this;\n        const { classes, identifiers } = props;\n\n        return (\n            <div className={classes.root}>\n                <Query query={getCmsBlocks} variables={{ identifiers }}>\n                    {renderBlocks}\n                </Query>\n            </div>\n        );\n    }\n}\n\nexport default classify(defaultClasses)(CmsBlockGroup);\n"],"file":"cmsBlock.js"}