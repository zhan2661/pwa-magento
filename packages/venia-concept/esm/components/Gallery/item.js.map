{"version":3,"sources":["../../../src/components/Gallery/item.js"],"names":["React","Component","string","number","shape","Link","resourceUrl","Price","classify","transparentPlaceholder","defaultClasses","imageWidth","imageHeight","ItemPlaceholder","children","classes","root_pending","images_pending","name_pending","price_pending","productUrlSuffix","GalleryItem","item","props","className","imagePlaceholder","imagePlaceholder_pending","small_image","name","image","type","width","render","renderImagePlaceholder","price","url_key","productLink","root","images","renderImage","regularPrice","amount","value","currency","image_pending","id","isRequired"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,KAAzB,QAAsC,YAAtC;AACA,SAASC,IAAT,EAAeC,WAAf;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,OAAOC,QAAP;AACA,SAASC,sBAAT;AACA,OAAOC,cAAP;AAEA,MAAMC,UAAU,GAAG,KAAnB;AACA,MAAMC,WAAW,GAAG,KAApB;;AAEA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KACpB;AAAK,EAAA,SAAS,EAAEA,OAAO,CAACC;AAAxB,GACI;AAAK,EAAA,SAAS,EAAED,OAAO,CAACE;AAAxB,GAAyCH,QAAzC,CADJ,EAEI;AAAK,EAAA,SAAS,EAAEC,OAAO,CAACG;AAAxB,EAFJ,EAGI;AAAK,EAAA,SAAS,EAAEH,OAAO,CAACI;AAAxB,EAHJ,CADJ,C,CAQA;;;AACA,MAAMC,gBAAgB,GAAG,OAAzB;;AAEA,MAAMC,WAAN,SAA0BpB,SAA1B,CAAoC;AAAA;AAAA;;AAAA,oDAiEP,MAAM;AAC3B,YAAM;AAAEc,QAAAA,OAAF;AAAWO,QAAAA;AAAX,UAAoB,KAAKC,KAA/B;AAEA,YAAMC,SAAS,GAAGF,IAAI,GAChBP,OAAO,CAACU,gBADQ,GAEhBV,OAAO,CAACW,wBAFd;AAIA,aACI;AACI,QAAA,SAAS,EAAEF,SADf;AAEI,QAAA,GAAG,EAAEf,sBAFT;AAGI,QAAA,GAAG,EAAC,EAHR;AAII,QAAA,KAAK,EAAEE,UAJX;AAKI,QAAA,MAAM,EAAEC;AALZ,QADJ;AASH,KAjF+B;;AAAA,yCAuFlB,MAAM;AAChB,YAAM;AAAEG,QAAAA,OAAF;AAAWO,QAAAA;AAAX,UAAoB,KAAKC,KAA/B;;AAEA,UAAI,CAACD,IAAL,EAAW;AACP,eAAO,IAAP;AACH;;AAED,YAAM;AAAEK,QAAAA,WAAF;AAAeC,QAAAA;AAAf,UAAwBN,IAA9B;AAEA,aACI;AACI,QAAA,SAAS,EAAEP,OAAO,CAACc,KADvB;AAEI,QAAA,GAAG,EAAEvB,WAAW,CAACqB,WAAD,EAAc;AAC1BG,UAAAA,IAAI,EAAE,eADoB;AAE1BC,UAAAA,KAAK,EAAEpB;AAFmB,SAAd,CAFpB;AAMI,QAAA,GAAG,EAAEiB,IANT;AAOI,QAAA,KAAK,EAAEjB,UAPX;AAQI,QAAA,MAAM,EAAEC;AARZ,QADJ;AAYH,KA5G+B;AAAA;;AAgChCoB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEjB,MAAAA,OAAF;AAAWO,MAAAA;AAAX,QAAoB,KAAKC,KAA/B;;AAEA,QAAI,CAACD,IAAL,EAAW;AACP,aACI,oBAAC,eAAD;AAAiB,QAAA,OAAO,EAAEP;AAA1B,SACK,KAAKkB,sBAAL,EADL,CADJ;AAKH;;AAED,UAAM;AAAEL,MAAAA,IAAF;AAAQM,MAAAA,KAAR;AAAeC,MAAAA;AAAf,QAA2Bb,IAAjC;AACA,UAAMc,WAAW,GAAI,IAAGD,OAAQ,GAAEf,gBAAiB,EAAnD;AAEA,WACI;AAAK,MAAA,SAAS,EAAEL,OAAO,CAACsB;AAAxB,OACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE/B,WAAW,CAAC8B,WAAD,CAArB;AAAoC,MAAA,SAAS,EAAErB,OAAO,CAACuB;AAAvD,OACK,KAAKL,sBAAL,EADL,EAEK,KAAKM,WAAL,EAFL,CADJ,EAKI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAEjC,WAAW,CAAC8B,WAAD,CAArB;AAAoC,MAAA,SAAS,EAAErB,OAAO,CAACa;AAAvD,OACI,kCAAOA,IAAP,CADJ,CALJ,EAQI;AAAK,MAAA,SAAS,EAAEb,OAAO,CAACmB;AAAxB,OACI,oBAAC,KAAD;AACI,MAAA,KAAK,EAAEA,KAAK,CAACM,YAAN,CAAmBC,MAAnB,CAA0BC,KADrC;AAEI,MAAA,YAAY,EAAER,KAAK,CAACM,YAAN,CAAmBC,MAAnB,CAA0BE;AAF5C,MADJ,CARJ,CADJ;AAiBH;;AA/D+B;;gBAA9BtB,W,eACiB;AACfN,EAAAA,OAAO,EAAEX,KAAK,CAAC;AACXyB,IAAAA,KAAK,EAAE3B,MADI;AAEX0C,IAAAA,aAAa,EAAE1C,MAFJ;AAGXuB,IAAAA,gBAAgB,EAAEvB,MAHP;AAIXwB,IAAAA,wBAAwB,EAAExB,MAJf;AAKXoC,IAAAA,MAAM,EAAEpC,MALG;AAMXe,IAAAA,cAAc,EAAEf,MANL;AAOX0B,IAAAA,IAAI,EAAE1B,MAPK;AAQXgB,IAAAA,YAAY,EAAEhB,MARH;AASXgC,IAAAA,KAAK,EAAEhC,MATI;AAUXiB,IAAAA,aAAa,EAAEjB,MAVJ;AAWXmC,IAAAA,IAAI,EAAEnC,MAXK;AAYXc,IAAAA,YAAY,EAAEd;AAZH,GAAD,CADC;AAefoB,EAAAA,IAAI,EAAElB,KAAK,CAAC;AACRyC,IAAAA,EAAE,EAAE1C,MAAM,CAAC2C,UADH;AAERlB,IAAAA,IAAI,EAAE1B,MAAM,CAAC4C,UAFL;AAGRnB,IAAAA,WAAW,EAAEzB,MAAM,CAAC4C,UAHZ;AAIRX,IAAAA,OAAO,EAAEjC,MAAM,CAAC4C,UAJR;AAKRZ,IAAAA,KAAK,EAAE9B,KAAK,CAAC;AACToC,MAAAA,YAAY,EAAEpC,KAAK,CAAC;AAChBqC,QAAAA,MAAM,EAAErC,KAAK,CAAC;AACVsC,UAAAA,KAAK,EAAEvC,MAAM,CAAC2C,UADJ;AAEVH,UAAAA,QAAQ,EAAEzC,MAAM,CAAC4C;AAFP,SAAD,CAAL,CAGLA;AAJa,OAAD,CAAL,CAKXA;AANM,KAAD,CAAL,CAOJA;AAZK,GAAD;AAfI,C;;AA8GvB,eAAetC,QAAQ,CAACE,cAAD,CAAR,CAAyBW,WAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { string, number, shape } from 'prop-types';\nimport { Link, resourceUrl } from 'src/drivers';\nimport { Price } from '@magento/peregrine';\nimport classify from 'src/classify';\nimport { transparentPlaceholder } from 'src/shared/images';\nimport defaultClasses from './item.css';\n\nconst imageWidth = '300';\nconst imageHeight = '372';\n\nconst ItemPlaceholder = ({ children, classes }) => (\n    <div className={classes.root_pending}>\n        <div className={classes.images_pending}>{children}</div>\n        <div className={classes.name_pending} />\n        <div className={classes.price_pending} />\n    </div>\n);\n\n// TODO: get productUrlSuffix from graphql when it is ready\nconst productUrlSuffix = '.html';\n\nclass GalleryItem extends Component {\n    static propTypes = {\n        classes: shape({\n            image: string,\n            image_pending: string,\n            imagePlaceholder: string,\n            imagePlaceholder_pending: string,\n            images: string,\n            images_pending: string,\n            name: string,\n            name_pending: string,\n            price: string,\n            price_pending: string,\n            root: string,\n            root_pending: string\n        }),\n        item: shape({\n            id: number.isRequired,\n            name: string.isRequired,\n            small_image: string.isRequired,\n            url_key: string.isRequired,\n            price: shape({\n                regularPrice: shape({\n                    amount: shape({\n                        value: number.isRequired,\n                        currency: string.isRequired\n                    }).isRequired\n                }).isRequired\n            }).isRequired\n        })\n    };\n\n    render() {\n        const { classes, item } = this.props;\n\n        if (!item) {\n            return (\n                <ItemPlaceholder classes={classes}>\n                    {this.renderImagePlaceholder()}\n                </ItemPlaceholder>\n            );\n        }\n\n        const { name, price, url_key } = item;\n        const productLink = `/${url_key}${productUrlSuffix}`;\n\n        return (\n            <div className={classes.root}>\n                <Link to={resourceUrl(productLink)} className={classes.images}>\n                    {this.renderImagePlaceholder()}\n                    {this.renderImage()}\n                </Link>\n                <Link to={resourceUrl(productLink)} className={classes.name}>\n                    <span>{name}</span>\n                </Link>\n                <div className={classes.price}>\n                    <Price\n                        value={price.regularPrice.amount.value}\n                        currencyCode={price.regularPrice.amount.currency}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    renderImagePlaceholder = () => {\n        const { classes, item } = this.props;\n\n        const className = item\n            ? classes.imagePlaceholder\n            : classes.imagePlaceholder_pending;\n\n        return (\n            <img\n                className={className}\n                src={transparentPlaceholder}\n                alt=\"\"\n                width={imageWidth}\n                height={imageHeight}\n            />\n        );\n    };\n\n    /**\n     * TODO: Product images are currently broken and pending a fix from the `graphql-ce` project\n     * https://github.com/magento/graphql-ce/issues/88\n     */\n    renderImage = () => {\n        const { classes, item } = this.props;\n\n        if (!item) {\n            return null;\n        }\n\n        const { small_image, name } = item;\n\n        return (\n            <img\n                className={classes.image}\n                src={resourceUrl(small_image, {\n                    type: 'image-product',\n                    width: imageWidth\n                })}\n                alt={name}\n                width={imageWidth}\n                height={imageHeight}\n            />\n        );\n    };\n}\n\nexport default classify(defaultClasses)(GalleryItem);\n"],"file":"item.js"}