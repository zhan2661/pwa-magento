{"version":3,"sources":["../../../src/components/Gallery/items.js"],"names":["React","Component","arrayOf","number","shape","GalleryItem","pageSize","emptyData","Array","from","length","fill","defaultPlaceholders","map","_","index","GalleryItems","placeholders","props","mapGalleryItem","item","small_image","url","render","items","id","isRequired","default"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,KAA1B,QAAuC,YAAvC;AACA,OAAOC,WAAP;AAEA,MAAMC,QAAQ,GAAG,EAAjB;AACA,MAAMC,SAAS,GAAGC,KAAK,CAACC,IAAN,CAAW;AAAEC,EAAAA,MAAM,EAAEJ;AAAV,CAAX,EAAiCK,IAAjC,CAAsC,IAAtC,CAAlB,C,CAEA;;AACA,MAAMC,mBAAmB,GAAGL,SAAS,CAACM,GAAV,CAAc,CAACC,CAAD,EAAIC,KAAJ,KACtC,oBAAC,WAAD;AAAa,EAAA,GAAG,EAAEA,KAAlB;AAAyB,EAAA,WAAW,EAAE;AAAtC,EADwB,CAA5B;;AAIA,MAAMC,YAAN,SAA2Bf,SAA3B,CAAqC;AAUjC,MAAIgB,YAAJ,GAAmB;AACf,UAAM;AAAEX,MAAAA;AAAF,QAAe,KAAKY,KAA1B;AAEA,WAAOZ,QAAQ,GACTE,KAAK,CAACC,IAAN,CAAW;AAAEC,MAAAA,MAAM,EAAEJ;AAAV,KAAX,EACKK,IADL,CACU,IADV,EAEKE,GAFL,CAES,CAACC,CAAD,EAAIC,KAAJ,KACD,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAEA,KAAlB;AAAyB,MAAA,WAAW,EAAE;AAAtC,MAHR,CADS,GAMTH,mBANN;AAOH,GApBgC,CAsBjC;;;AACAO,EAAAA,cAAc,CAACC,IAAD,EAAO;AACjB,UAAM;AAAEC,MAAAA;AAAF,QAAkBD,IAAxB;AACA,6BACOA,IADP;AAEIC,MAAAA,WAAW,EACP,OAAOA,WAAP,KAAuB,QAAvB,GAAkCA,WAAW,CAACC,GAA9C,GAAoDD;AAH5D;AAKH;;AAEDE,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEC,MAAAA;AAAF,QAAY,KAAKN,KAAvB;;AAEA,QAAIM,KAAK,KAAKjB,SAAd,EAAyB;AACrB,aAAO,KAAKU,YAAZ;AACH;;AAED,WAAOO,KAAK,CAACX,GAAN,CAAUO,IAAI,IACjB,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAEA,IAAI,CAACK,EAAvB;AAA2B,MAAA,IAAI,EAAE,KAAKN,cAAL,CAAoBC,IAApB;AAAjC,MADG,CAAP;AAGH;;AA1CgC;;gBAA/BJ,Y,eACiB;AACfQ,EAAAA,KAAK,EAAEtB,OAAO,CACVE,KAAK,CAAC;AACFqB,IAAAA,EAAE,EAAEtB,MAAM,CAACuB;AADT,GAAD,CADK,CAAP,CAILA,UALa;AAMfpB,EAAAA,QAAQ,EAAEH;AANK,C;;AA4CvB,SAASa,YAAY,IAAIW,OAAzB,EAAkCpB,SAAlC","sourcesContent":["import React, { Component } from 'react';\nimport { arrayOf, number, shape } from 'prop-types';\nimport GalleryItem from './item';\n\nconst pageSize = 12;\nconst emptyData = Array.from({ length: pageSize }).fill(null);\n\n// inline the placeholder elements, since they're constant\nconst defaultPlaceholders = emptyData.map((_, index) => (\n    <GalleryItem key={index} placeholder={true} />\n));\n\nclass GalleryItems extends Component {\n    static propTypes = {\n        items: arrayOf(\n            shape({\n                id: number.isRequired\n            })\n        ).isRequired,\n        pageSize: number\n    };\n\n    get placeholders() {\n        const { pageSize } = this.props;\n\n        return pageSize\n            ? Array.from({ length: pageSize })\n                  .fill(null)\n                  .map((_, index) => (\n                      <GalleryItem key={index} placeholder={true} />\n                  ))\n            : defaultPlaceholders;\n    }\n\n    // map Magento 2.3.1 schema changes to Venia 2.0.0 proptype shape to maintain backwards compatibility\n    mapGalleryItem(item) {\n        const { small_image } = item;\n        return {\n            ...item,\n            small_image:\n                typeof small_image === 'object' ? small_image.url : small_image\n        };\n    }\n\n    render() {\n        const { items } = this.props;\n\n        if (items === emptyData) {\n            return this.placeholders;\n        }\n\n        return items.map(item => (\n            <GalleryItem key={item.id} item={this.mapGalleryItem(item)} />\n        ));\n    }\n}\n\nexport { GalleryItems as default, emptyData };\n"],"file":"items.js"}