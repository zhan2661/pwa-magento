{"version":3,"sources":["../../src/util/toMap.js"],"names":["toMap","elements","transform","v","Symbol","iterator","Error","map","Map","index","element","pair","isArray","Array","isPair","length","set"],"mappings":"AAAA;;;;;;;;;;AAUA,MAAMA,KAAK,GAAG,CAACC,QAAD,EAAWC,SAAS,GAAGC,CAAC,IAAIA,CAA5B,KAAkC;AAC5C,MAAIF,QAAQ,IAAI,IAAZ,IAAoB,CAACA,QAAQ,CAACG,MAAM,CAACC,QAAR,CAAjC,EAAoD;AAChD,UAAM,IAAIC,KAAJ,CAAU,qCAAV,CAAN;AACH;;AAED,MAAI,OAAOJ,SAAP,KAAqB,UAAzB,EAAqC;AACjC,UAAM,IAAII,KAAJ,CAAU,wCAAV,CAAN;AACH;;AAED,QAAMC,GAAG,GAAG,IAAIC,GAAJ,EAAZ;AACA,MAAIC,KAAK,GAAG,CAAZ;;AAEA,OAAK,MAAMC,OAAX,IAAsBT,QAAtB,EAAgC;AAC5B,UAAMU,IAAI,GAAGT,SAAS,CAACQ,OAAD,EAAUD,KAAV,CAAtB;AACA,UAAMG,OAAO,GAAGC,KAAK,CAACD,OAAN,CAAcD,IAAd,CAAhB;AACA,UAAMG,MAAM,GAAGH,IAAI,CAACI,MAAL,KAAgB,CAA/B;;AAEA,QAAI,CAACH,OAAD,IAAY,CAACE,MAAjB,EAAyB;AACrB,YAAM,IAAIR,KAAJ,CAAU,iDAAV,CAAN;AACH;;AAEDC,IAAAA,GAAG,CAACS,GAAJ,CAAQ,GAAGL,IAAX;AACAF,IAAAA,KAAK;AACR;;AAED,SAAOF,GAAP;AACH,CA1BD;;AA4BA,eAAeP,KAAf","sourcesContent":["/**\n * Create a `Map` from an iterable object.\n *\n * The second parameter, `transform`, is used to derive the key for each element.\n * If the elements are key-value pairs, use the `Map` constructor instead.\n *\n * @param {iterable} elements\n * @param {function} transform\n * @returns {Map}\n */\nconst toMap = (elements, transform = v => v) => {\n    if (elements == null || !elements[Symbol.iterator]) {\n        throw new Error('Expected `elements` to be iterable.');\n    }\n\n    if (typeof transform !== 'function') {\n        throw new Error('Expected `transform` to be a function.');\n    }\n\n    const map = new Map();\n    let index = 0;\n\n    for (const element of elements) {\n        const pair = transform(element, index);\n        const isArray = Array.isArray(pair);\n        const isPair = pair.length === 2;\n\n        if (!isArray || !isPair) {\n            throw new Error('Expected `transform` to return key-value pairs.');\n        }\n\n        map.set(...pair);\n        index++;\n    }\n\n    return map;\n};\n\nexport default toMap;\n"],"file":"toMap.js"}